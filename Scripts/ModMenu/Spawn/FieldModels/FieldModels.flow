import("FieldModels.msg");

void SpawnFieldModelsMenu()
{
    while (true && !PAD_CHK_PRESS(PadButton.L2))
    {
        int selection = DescriptionMenu(Title_FieldModels, Options_FieldModels);

        switch (selection)
        {
            case -1:
                return;
            case 0: // Spawn Item
                SpawnItemModel();
                break;
            case 1: // Spawn Object
                SpawnObjectModel();
                break;
        }
    }
}

void SpawnItemModel()
{
    int joker = FLD_PC_GET_RESHND(0);

    int itemModelMajor = NumberMenu(4, Title_SpawnItemMajor);
    if (itemModelMajor == -1)
        return;
    int itemModelMinor = NumberMenu(3, Title_SpawnItemMinor);
    if (itemModelMinor == -1)
        return;

    int itemModel = FLD_ITEM_MODEL_LOAD(itemModelMajor, itemModelMinor);
    FLD_MODEL_LOADSYNC(itemModel);
    TransformModel(itemModel);
}

void SpawnObjectModel()
{
    int joker = FLD_PC_GET_RESHND(0);

    int objModelMajor = NumberMenu(3, Title_SpawnObjMajor);
    if (objModelMajor == -1)
        return;
    int objModelMinor = NumberMenu(3, Title_SpawnObjMinor);
    if (objModelMinor == -1)
        return;

    int objModel = FLD_OBJ_MODEL_LOAD(objModelMajor, objModelMinor);
    FLD_MODEL_LOADSYNC(objModel);
    TransformModel(objModel);
}